<style>
.trajectory-box strong {
  color: #1a1a1a !important;
}
.trajectory-box h3 {
  color: #1a1a1a !important;
}
</style>

# lm-planner/gemini-2.5-flash/smm

<div style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border-left: 5px solid #2196f3; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); color: #1a1a1a;" class="trajectory-box">
<h2 style="color: #1976d2; margin-top: 0; margin-bottom: 15px; font-size: 1.3em;">ðŸ§  Reasoning Trace</h2>

The user wants a plan for ablation studies for the paper "Sample-specific Masks for Visual Reprogramming-based Prompting". The core contribution of the paper is the introduction of sample-specific, multi-channel masks generated by a lightweight CNN and patch-wise interpolation, replacing the shared, pre-defined masks used in previous Visual Reprogramming (VR) methods. The goal of the ablation studies is to understand the contribution of these key components to the method's performance.

I have identified the main components of the SMM method:
1.  **Sample-specific mask:** The mask varies for each input image.
2.  **Multi-channel mask:** The mask has three channels (for RGB).
3.  **Mask Generator Module:** A lightweight CNN that learns to generate the mask based on the input image.
4.  **Patch-wise Interpolation Module:** A specific upsampling method for the generated mask.
5.  **Shared Trainable Pattern ($\delta$):** A base pattern that is modulated by the sample-specific mask.

Based on these components and the paper's claims (e.g., reduced approximation error due to sample-specificity, benefit of multi-channel masks), I propose the following ablation studies, ranked by their importance in validating the core contributions:

1.  **Sample-specific Mask Ablation:** The most significant claim is the benefit of sample-specific masks over shared ones. While the paper compares SMM to existing shared-mask methods, an ablation *within* the SMM framework that forces the mask generator to produce a shared mask (e.g., by training it to output a single mask for all samples or averaging the generated masks) would isolate the effect of sample-specificity while keeping the generator architecture and multi-channel aspect.
2.  **Multi-channel Mask Ablation:** The paper highlights the use of a three-channel mask. Ablating this by using a single-channel mask (applied identically to all input channels) will show the importance of channel-wise mask variation.
3.  **Shared Pattern ($\delta$) Ablation:** The method uses a shared trainable pattern $\delta$ modulated by the sample-specific mask. The paper theoretically compares this to a fully sample-specific pattern (where the generator directly outputs the pattern). An empirical ablation removing the shared $\delta$ and letting the generator output the full pattern would validate this theoretical comparison.
4.  **Patch-wise Interpolation Ablation:** The paper describes a specific patch-wise interpolation method. Replacing this with standard interpolation techniques (like bilinear or nearest-neighbor) would assess its impact on performance and potentially training stability/simplicity.
5.  **Mask Generator Architecture Ablation:** The paper uses a lightweight CNN. Testing a simpler architecture (like a small MLP) would help understand if the CNN's spatial processing capabilities are crucial for generating effective masks.

The primary metric used in the paper's empirical results (Tables 1 and 2) is classification accuracy. Therefore, accuracy will be the main metric for these ablations.

I will now format these into the required JSONL structure.
</div>

<div style="background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); border-left: 5px solid #9c27b0; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); color: #1a1a1a;" class="trajectory-box">
<h2 style="color: #7b1fa2; margin-top: 0; margin-bottom: 15px; font-size: 1.3em;">ðŸ“‹ Ablation Plan</h2>

### Ablation: Sample-specific Mask
- **Ablated Part**: Sample-specific mask generation
- **Action**: REPLACE
- **Replacement**: 
  - Shared mask generated by CNN
- **Metrics**: Accuracy

### Ablation: Multi-channel Mask
- **Ablated Part**: Three-channel mask
- **Action**: REPLACE
- **Replacement**: 
  - Single-channel mask
- **Metrics**: Accuracy

### Ablation: Shared Pattern Delta
- **Ablated Part**: Shared trainable noise pattern (delta)
- **Action**: REMOVE
- **Metrics**: Accuracy

### Ablation: Patch-wise Interpolation
- **Ablated Part**: Patch-wise interpolation module
- **Action**: REPLACE
- **Replacement**: 
  - Bilinear interpolation
  - Nearest-neighbor interpolation
- **Metrics**: Accuracy

### Ablation: Mask Generator Architecture
- **Ablated Part**: Lightweight CNN mask generator
- **Action**: REPLACE
- **Replacement**: 
  - Small MLP generator
- **Metrics**: Accuracy

</div>